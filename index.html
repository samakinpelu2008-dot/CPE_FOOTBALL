<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Match</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(180deg,#0f2027,#203a43,#2c5364);
  display:flex;
  justify-content:center;
}
.container{
  width:95%;
  max-width:420px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.card{
  background:#fff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.25);
}
.status{
  text-align:center;
  font-weight:bold;
  color:#1a73e8;
}
.match-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
}
.team{
  width:90px;
  text-align:center;
}
.team img{
  width:34px;
  height:34px;
}
.team-name{
  font-size:12px;
  font-weight:bold;
}
.score{
  font-size:38px;
  font-weight:700;
}
.center-line{
  height:2px;
  background:#ddd;
  margin:6px 0 8px;
  position:relative;
}
.center-line::after{
  content:"âš½";
  position:absolute;
  top:-12px;
  left:50%;
  transform:translateX(-50%);
  background:#fff;
  padding:0 6px;
}
.goals{
  display:flex;
  justify-content:space-between;
  font-size:13px;
}
.goals div{
  display:flex;
  flex-direction:column;
  gap:3px;
}

/* GOAL EFFECT */
.hex{
  animation:pop .6s ease;
  color:#1a73e8;
}
@keyframes pop{
  from{transform:scale(0);opacity:0}
  to{transform:scale(1);opacity:1}
}

/* CHAT */
.chat{
  background:#fff;
  border-radius:16px;
  height:240px;
  padding:10px;
  overflow-y:auto;
}
.msg{
  max-width:70%;
  padding:8px 12px;
  border-radius:16px;
  margin-bottom:6px;
  font-size:14px;
  position:relative;
}
.right{
  background:#1a73e8;
  color:#fff;
  margin-left:auto;
}
.left{
  background:#eee;
}
.delete{
  position:absolute;
  bottom:-12px;
  right:6px;
  font-size:10px;
  cursor:pointer;
}
.input{
  display:flex;
  gap:6px;
}
input{
  flex:1;
  padding:12px;
  border-radius:20px;
  border:none;
}
button{
  padding:0 14px;
  border:none;
  border-radius:14px;
  background:#1a73e8;
  color:#fff;
  font-weight:bold;
}

/* ADMIN */
#admin{
  display:none;
}
</style>
</head>

<body>
<div class="container">

<div class="card">
  <div class="status" id="status">Tomorrow<br>12:30</div>

  <div class="match-header">
    <div class="team">
      <img src="https://upload.wikimedia.org/wikipedia/commons/3/3c/Football_Icon.svg">
      <div class="team-name" id="t1">CPE</div>
    </div>

    <div class="score" id="score">0 : 0</div>

    <div class="team">
      <img src="https://upload.wikimedia.org/wikipedia/commons/3/3c/Football_Icon.svg">
      <div class="team-name" id="t2">BMG</div>
    </div>
  </div>

  <div class="center-line"></div>

  <div class="goals">
    <div id="g1"></div>
    <div id="g2"></div>
  </div>
</div>

<div class="card chat" id="chat"></div>

<div class="input">
  <input id="text" placeholder="Message or admin password">
  <button onclick="send()">SEND</button>
</div>

<!-- ADMIN PANEL -->
<div class="card" id="admin">
  <b>ADMIN PANEL</b><br><br>
  <button onclick="startMatch()">Start Match</button><br><br>
  <select id="team">
    <option value="1">CPE</option>
    <option value="2">BMG</option>
  </select>
  <input id="player" placeholder="Scorer name">
  <button onclick="goal()">Add Goal</button>
</div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script>
firebase.initializeApp({
  apiKey:"AIzaSyA2AScPQkOE632znM9vvCahijtnronS3jU",
  authDomain:"fresherscuplive.firebaseapp.com",
  databaseURL:"https://fresherscuplive-default-rtdb.firebaseio.com"
});
const db=firebase.database();
let isAdmin=false, minute=0, timer;

function send(){
  let v=text.value.trim();
  if(!v)return;

  if(v==="admin123"){
    isAdmin=true;
    admin.style.display="block";
    text.value="";
    return;
  }

  let r=db.ref("chat").push();
  r.set({msg:v,me:true});
  text.value="";
}

db.ref("chat").on("value",s=>{
  chat.innerHTML="";
  s.forEach(c=>{
    let d=document.createElement("div");
    d.className="msg right";
    d.innerHTML=c.val().msg+"<span class='delete' onclick=\"db.ref('chat/"+c.key+"').remove()\">del</span>";
    chat.appendChild(d);
  });
  chat.scrollTop=9999;
});

function startMatch(){
  status.innerText="1'";
  minute=1;
  timer=setInterval(()=>{
    minute++;
    status.innerText=minute+"'";
  },60000);
}

function goal(){
  let p=player.value;
  if(!p)return;
  let side=team.value==="1"?g1:g2;
  let d=document.createElement("div");
  d.className="hex";
  d.innerText=p+" "+minute+"'";
  side.appendChild(d);
  let sc=score.innerText.split(":");
  sc[team.value-1]++;
  score.innerText=sc[0]+" : "+sc[1];
}
</script>
</body>
                           </html>
